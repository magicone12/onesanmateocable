<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.5/shaka-player.compiled.js"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
body{
  margin:0;
  background:#111;
  color:#fff;
  font-family:Arial, sans-serif;
  overflow:none;
   z-index:1000;
}

/* PLAYER */
.playerFixed{
  position:fixed;
  top:0;left:0;right:0;
  background:#000;
  padding:8px;
  z-index:1000;
}

.videoWrap{
  max-width:1000px;
  margin:auto;
  aspect-ratio:16/9;
  background:#000;
  border-radius:10px;
  overflow:hidden;
  position:relative;
}

video{
  width:100%;
  height:100%;
  object-fit:contain;
  background:#000;
}

/* overlay controls */
.controlsOverlay{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:flex-end;
  align-items:flex-start;
  padding:10px;
  gap:8px;
  pointer-events:none;
  opacity:0;
  transition:.25s;
}
.controlsOverlay.show{opacity:1; pointer-events:auto;}

.ctrlBtn{
  background:rgba(0,0,0,.6);
  border:1px solid rgba(255,255,255,.2);
  color:#fff;
  padding:6px 10px;
  border-radius:6px;
  font-size:12px;
  cursor:pointer;
}

/* loading text */
.loading{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
  letter-spacing:.5px;
  background:rgba(0,0,0,.4);
  pointer-events:none;
  opacity:0;
  transition:.2s;
}

/* BUTTONS */
.buttonsFixed{
  position:fixed;
  left:0;right:0;
  max-width:1000px;
  margin:auto;
  padding:10px;
  display:flex;
  gap:10px;
  z-index:999;
}

.buttonsFixed button{
  flex:1;
  padding:35px;
  border:none;
  border-radius:8px;
  background:#2b2b2b;
  color:#fff;
  cursor:pointer;
}

/* CHANNEL PANEL */
.channelPanelFixed{
  position:fixed;
  left:0;right:0;
  max-width:1000px;
  margin:auto;
  background:#1e1e1e;
  border-radius:12px;
  padding:10px;
  display:none;
  z-index:998;
  max-height:50vh;
  overflow-y:auto;
}
.channelPanelFixed h3{
  margin:0 0 10px;
  text-align:center;
  position: sticky;
  top: 0;
  z-index: 999;
  background:#00e1ff;
  padding:25px 0;
}

.chName{
  flex:1;
  text-align:center;
  font-weight:500;
}



.channel{
  display:flex;
  align-items:center;
  gap:8px;
  padding:45px;
  margin-bottom:6px;
  background:#2b2b2b;
  border-radius:6px;
  cursor:pointer;
}
.channel:hover{background:#000000;}

.channel img{
  width:80px;
  height:40px;
  border-radius:4px;
}

.spacer{height:1500px;}
</style>
</head>

<body>

<div class="playerFixed" id="playerBox">
  <div class="videoWrap" id="videoWrap">
    <video id="video"
      autoplay
      muted
      playsinline
      poster="https://via.placeholder.com/1280x720?text=Select+a+Channel"></video>
    <div class="loading" id="loadingTxt">Loading channel…</div>
    <div class="controlsOverlay" id="controls">
      <button class="ctrlBtn" id="fsBtn">FULL</button>
      <button class="ctrlBtn" id="wideBtn">WIDE</button>
      <button class="ctrlBtn" id="fitBtn">FIT</button>
    </div>
  </div>
</div>

<div class="buttonsFixed" id="buttonsBar">
  <button onclick="toggleList('main')">AFFLIATE TV</button>
  <button onclick="toggleList('second')">SAN MATEO CABLE</button>
</div>

<div class="channelPanelFixed" id="panelMain">
  <h3>AFFLIATE TV</h3>
  <div id="mainList"></div>
</div>

<div class="channelPanelFixed" id="panelSecond">
  <h3>SAN MATEO CABLE</h3>
  <div id="secondList"></div>
</div>

<div class="spacer"></div>

<script>
shaka.polyfill.installAll();

const video  = document.getElementById("video");
const loading = document.getElementById("loadingTxt");
const controls = document.getElementById("controls");
const fsBtn = document.getElementById("fsBtn");
const wideBtn = document.getElementById("wideBtn");
const fitBtn = document.getElementById("fitBtn");
const wrap = document.getElementById("videoWrap");
const player = new shaka.Player(video);

let hlsPlayer = null;
let lastChannel = null;
let retryTimer = null;

/* CHANNELS */
const mainChannels = [
{
  name:"GOLDEN TV",
  logo:"https://i.imgur.com/urWAPgv.png",
  src:"https://live20.bozztv.com/akamaissh101/ssh101/goldtvnet/chunks.m3u8",
  type:"hls"
},{
  name:"SDTV",
  logo:"https://i.imgur.com/PfJ0jVP.png",
  src:"https://live20.bozztv.com/giatvplayout7/giatv-210938/tracks-v1a1/mono.ts.m3u8",
  type:"hls"
}
];

const secondChannels = [
{
  name:"TV5",
  logo:"https://i.imgur.com/Ddyfzrn.png",
  src:"https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/tv5_hd/default1/index.mpd",
  type:"mpd",
  drm:{
    keyId:"2615129ef2c846a9bbd43a641c7303ef",
    key:"07c7f996b1734ea288641a68e1cfdc4d"
  }
},  {
    name: "GMA",
    logo: "https://i.imgur.com/nMSt2j0.png",
    src: "https://gsattv.akamaized.net/live/media0/gma7/Widevine/gma7.mpd",
    type: "mpd",
    drm:{
      keyId:"2615129ef2c846a9bbd43a641c7303ef",
      key:"07c7f996b1734ea288641a68e1cfdc4d"
    }
  }, {
    name: "ALL TV",
    logo: "https://i.imgur.com/wo8vkU8.png",
    src: "https://kalibonco.qzz.io/001/2/ch00000090990000001179/manifest.mpd?AuthInfo=v87HD9rEhwHiAdYyrP20TsXah2%2FZLFNNIdWrVrXDMAow35sHUcBhGBpxqddBGYEnsyK4TH4mOENKJ45mwOyS0g%3D%3D&virtualDomain=001.live_hls.zte.com&JITPMediaType=DASH&JITPDRMType=NO",
    type: "mpd",
    drm:{
      keyId:"31363232353335323435353337353331",
      key:"35416a68643065697575493337566135"
    }
  },  {
    name: "HEART OF ASIA",
    logo: "",
    src: "https://gma.xyadx.workers.dev/stream/HOA.m3u8",
    type: "hls"
  },
  {
    name: "I HEART MOVIES",
    logo: "",
    src: "https://gma.xyadx.workers.dev/stream/IHM.m3u8",
    type: "hls"
  },{
  name:"GOLDEN TV",
  logo:"https://i.imgur.com/urWAPgv.png",
  src:"https://live20.bozztv.com/akamaissh101/ssh101/goldtvnet/chunks.m3u8",
  type:"hls"
},
  {
  name:"CINEMA ONE",
  logo:"https://i.imgur.com/moSPpuJ.png",
  src:"https://cdn-ue1-prod.tsv2.amagi.tv/linear/amg01006-abs-cbn-cinemaone-dash-abscbnono/index.mpd",
  type:"mpd",
  drm:{
    keyId:"2615129ef2c846a9bbd43a641c7303ef",
    key:"07c7f996b1734ea288641a68e1cfdc4d"
  }
},  {
    name: "GMA)",
    logo: "",
    src: "https://gsattv.akamaized.net/live/media0/gma7/Widevine/gma7.mpd",
    type: "mpd",
    drm:{
      keyId:"2615129ef2c846a9bbd43a641c7303ef",
      key:"07c7f996b1734ea288641a68e1cfdc4d"
    }
  }, {
    name: "(ALL TV)",
    logo: "",
    src: "https://kalibonco.qzz.io/001/2/ch00000090990000001179/manifest.mpd?AuthInfo=v87HD9rEhwHiAdYyrP20TsXah2%2FZLFNNIdWrVrXDMAow35sHUcBhGBpxqddBGYEnsyK4TH4mOENKJ45mwOyS0g%3D%3D&virtualDomain=001.live_hls.zte.com&JITPMediaType=DASH&JITPDRMType=NO",
    type: "mpd",
    drm:{
      keyId:"31363232353335323435353337353331",
      key:"35416a68643065697575493337566135"
    }
  },  {
    name: "GoldTV1 (HLS)",
    logo: "",
    src: "https://gma.xyadx.workers.dev/stream/HOA.m3u8",
    type: "hls"
  },
  {
  name:"TV5",
  logo:"https://i.imgur.com/Ddyfzrn.png",
  src:"https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/tv5_hd/default1/index.mpd",
  type:"mpd",
  drm:{
    keyId:"2615129ef2c846a9bbd43a641c7303ef",
    key:"07c7f996b1734ea288641a68e1cfdc4d"
  }
},  {
    name: "GMA",
    logo: "",
    src: "https://gsattv.akamaized.net/live/media0/gma7/Widevine/gma7.mpd",
    type: "mpd",
    drm:{
      keyId:"2615129ef2c846a9bbd43a641c7303ef",
      key:"07c7f996b1734ea288641a68e1cfdc4d"
    }
  },
 {
    name: "ALL TV",
    logo: "",
    src: "https://kalibonco.qzz.io/001/2/ch00000090990000001179/manifest.mpd?AuthInfo=v87HD9rEhwHiAdYyrP20TsXah2%2FZLFNNIdWrVrXDMAow35sHUcBhGBpxqddBGYEnsyK4TH4mOENKJ45mwOyS0g%3D%3D&virtualDomain=001.live_hls.zte.com&JITPMediaType=DASH&JITPDRMType=NO",
    type: "mpd",
    drm:{
      keyId:"31363232353335323435353337353331",
      key:"35416a68643065697575493337566135"
    }
  }, 
 {
    name: "HEART OF ASIA",
    logo: "",
    src: "https://gma.xyadx.workers.dev/stream/HOA.m3u8",
    type: "hls"
  },
{
  name:"SDTV",
  logo:"https://i.imgur.com/PfJ0jVP.png",
  src:"https://live20.bozztv.com/giatvplayout7/giatv-210938/tracks-v1a1/mono.ts.m3u8",
  type:"hls"
},
{
    name: "INC TV",
    logo: "",
    src: "https://243529.global.ssl.fastly.net/6842a712b68c56f675d988f1/live_f5ac22b0566511f0805217b960326aaa/tracks-v1/index.fmp4.m3u8",
    type: "hls"
  },

{
  name:"TV5 (MPD / ClearKey)",
  logo:"https://i.imgur.com/Ddyfzrn.png",
  src:"https://qp-pldt-live-bpk-02-prod.akamaized.net/bpk-tv/tv5_hd/default1/index.mpd",
  type:"mpd",
  drm:{
    keyId:"2615129ef2c846a9bbd43a641c7303ef",
    key:"07c7f996b1734ea288641a68e1cfdc4d"
  }
},  {
    name: "TV5 (MPD / ClearKey)",
    logo: "",
    src: "https://gsattv.akamaized.net/live/media0/gma7/Widevine/gma7.mpd",
    type: "mpd",
    drm:{
      keyId:"2615129ef2c846a9bbd43a641c7303ef",
      key:"07c7f996b1734ea288641a68e1cfdc4d"
    }
  }, {
    name: "TV5 (MPD / ClearKey)",
    logo: "",
    src: "https://kalibonco.qzz.io/001/2/ch00000090990000001179/manifest.mpd?AuthInfo=v87HD9rEhwHiAdYyrP20TsXah2%2FZLFNNIdWrVrXDMAow35sHUcBhGBpxqddBGYEnsyK4TH4mOENKJ45mwOyS0g%3D%3D&virtualDomain=001.live_hls.zte.com&JITPMediaType=DASH&JITPDRMType=NO",
    type: "mpd",
    drm:{
      keyId:"31363232353335323435353337353331",
      key:"35416a68643065697575493337566135"
    }
  },{
    name: "TV5 (MPD / ClearKey)",
    logo: "",
    src: "http://136.239.158.18:6610/001/2/ch00000090990000001079/manifest.mpd?AuthInfo=v87HD9rEhwHiAdYyrP20Tg5pgSMSITY%2FHYvvCWJRp%2BoglCgy7TAZamPXsCV8PgebytokK1MIobcue1ImXa0ZEA%3D%3D&version=v1.0&BreakPoint=0&virtualDomain=001.live_hls.zte.com&programid=ch00000000000000001138&contentid=ch00000000000000001138&videoid=ch00000090990000001079&recommendtype=0&userid=1897516127558&boid=001&stbid=02%3A00%3A00%3A00%3A00%3A00&terminalflag=1&profilecode=&usersessionid=1Z8S6AOLQ8XXXX&NeedJITP=1&JITPMediaType=DASH&JITPDRMType=NO",
    drm:{
      keyId:"31363232353335323435353337353331",
      key:"35416a68643065697575493337566135"
    }
  }
];

/* BUILD LIST */
function build(list, el){
  el.innerHTML="";
  list.forEach((ch,i)=>{
    const row=document.createElement("div");
    row.className="channel";

    const img=document.createElement("img");
    img.src=ch.logo || "https://via.placeholder.com/26x26?text=TV";

    const sp=document.createElement("span");
    sp.className = "chName";
    sp.textContent = (i+1)+". " + ch.name;

    row.appendChild(img);
    row.appendChild(sp);

    row.onclick=()=>playChannel(ch);

    el.appendChild(row);
  });
}


build(mainChannels, document.getElementById("mainList"));
build(secondChannels, document.getElementById("secondList"));

/* LAYOUT */
function updateLayout(){
  const playerBox = document.getElementById("playerBox");
  const buttons  = document.getElementById("buttonsBar");
  const pMain    = document.getElementById("panelMain");
  const pSecond  = document.getElementById("panelSecond");
  const ph = playerBox.offsetHeight;
  const bh = buttons.offsetHeight;
  buttons.style.top = ph+"px";
  pMain.style.top   = (ph+bh)+"px";
  pSecond.style.top = (ph+bh)+"px";
}
window.addEventListener("load",updateLayout);
window.addEventListener("resize",updateLayout);

/* TOGGLE CHANNEL LIST */
function toggleList(type){
  const p1=document.getElementById("panelMain");
  const p2=document.getElementById("panelSecond");
  if(type==="main"){
    p1.style.display = p1.style.display==="block"?"none":"block";
    p2.style.display = "none";
  }else{
    p2.style.display = p2.style.display==="block"?"none":"block";
    p1.style.display = "none";
  }
}

/* PLAY CHANNEL */
function clearHls(){ if(hlsPlayer){ hlsPlayer.destroy(); hlsPlayer=null; } }
function showLoading(v){ loading.style.opacity = v ? 1 : 0; }

function playChannel(ch){
  lastChannel = ch;
  showLoading(true);
  clearHls();
  video.muted=false;
  video.playbackRate=1.05;

  if(ch.type==="mpd"){
    player.configure({
      drm:{ clearKeys:{ [ch.drm.keyId]:ch.drm.key } },
      streaming:{ bufferingGoal:6, rebufferingGoal:1 }
    });
    player.load(ch.src).catch(retry);
  }

  if(ch.type==="hls"){
    if(video.canPlayType("application/vnd.apple.mpegurl")){
      video.src = ch.src;
      video.play().catch(()=>{});
      return;
    }
    if(Hls.isSupported()){
      hlsPlayer = new Hls({
        autoStartLoad:false,
        startPosition:-1,
        lowLatencyMode:true,
        liveSyncDurationCount:1,
        liveMaxLatencyDurationCount:3,
        maxBufferLength:3,
        backBufferLength:0,
        abrEwmaFastLive:2,
        abrEwmaSlowLive:5,
        startFragPrefetch:true,
        maxFragLookUpTolerance:0.1,
        enableWorker:true,
        capLevelToPlayerSize:true
      });
      hlsPlayer.attachMedia(video);
      hlsPlayer.loadSource(ch.src);
      hlsPlayer.startLoad(-1);
      hlsPlayer.on(Hls.Events.MANIFEST_PARSED,()=>{ video.play().catch(()=>{}); });
    }
  }
}

/* RETRY */
function retry(){ if(!lastChannel) return; clearTimeout(retryTimer); retryTimer=setTimeout(()=>playChannel(lastChannel),3000); }

/* VIDEO EVENTS */
video.addEventListener("playing",()=>showLoading(false));
video.addEventListener("canplay",()=>showLoading(false));
video.addEventListener("waiting",()=>showLoading(true));
video.addEventListener("stalled",retry);
video.addEventListener("error",retry);

/* PULL SCREEN ON LANDSCAPE */
function checkOrientation(){
  const isLandscape = window.matchMedia("(orientation: landscape)").matches;
  if(isLandscape){ video.style.objectFit = "cover"; } else { video.style.objectFit = "contain"; }
}
window.addEventListener("load", checkOrientation);
window.addEventListener("resize", checkOrientation);
window.addEventListener("orientationchange", checkOrientation);

/* FULLSCREEN BUTTON */
fsBtn.addEventListener("click", (e)=>{
  e.stopPropagation();
  if(!document.fullscreenElement){ wrap.requestFullscreen?.(); } else { document.exitFullscreen?.(); }
});

/* FIT/WIDE/FULL BUTTONS */
fitBtn.addEventListener("click",()=>video.style.objectFit="contain");
wideBtn.addEventListener("click",()=>video.style.objectFit="100% auto");
fsBtn.addEventListener("click",()=>video.style.objectFit="cover");

/* SHOW CONTROLS ON TAP */
let hideTimer=null;
wrap.addEventListener("click", ()=>{
  controls.classList.add("show");
  clearTimeout(hideTimer);
  hideTimer = setTimeout(()=>controls.classList.remove("show"), 2500);
});

/* Ensure channel list visible on mobile */
function updateChannelListDisplay(){
  const p1=document.getElementById("panelMain");
  const p2=document.getElementById("panelSecond");
  if(lastChannel){ if(p1.style.display==="block" || p2.style.display==="block") return; p1.style.display="block"; p2.style.display="none"; }
}
window.addEventListener("resize", updateChannelListDisplay);
window.addEventListener("load", updateChannelListDisplay);

</script>

  <script>
/* ============================
   SIMPLE PAGE PROTECTION ONLY
   (NO CHANGE TO YOUR PLAYER)
   ============================ */

/* PALITAN MO ITO NG DOMAIN MO */
var ALLOWED_HOST = "onesanmateocable.pages.dev/";

/* fake 404 kapag ibang website binuksan */
if (location.hostname !== ALLOWED_HOST) {
  document.open();
  document.write(`
<html>
      <head><title>SAN MATEO CABLE AFFLIATE</title></head>
      <body style="margin:0;background:#000;color:#fff;
      display:absulute;align-items:center;justify-content:center;
      height:100vh;font-family:Arial;text-align: center;">
     <center>   <P><h1>ENJOY WATCHING</h1></P>
        <p>PUMILI LAMANG SA DALAWA LIST AFFLIATE TV OR SAN MATEO CABLE</p>
        <p>PARA LUMABAS ANG MGA CHANNELS</p><br><br><br></center>
        <img src="https://i.imgur.com/urWAPgv.png"  width="80" height="60">
        <p><center><h4>     &copy;2025-26 GOLDEN TELEVISION NETWORK | <a href="#">All Rights Reserved</a></h4></center></p>
      </body>
    </html>

  `);
  document.close();
}

/* disable right click */
document.addEventListener("contextmenu", function(e){
  e.preventDefault();
});

/* block CTRL+U and CTRL+SHIFT+C */
document.addEventListener("keydown", function(e){

  /* CTRL + U */
  if (e.ctrlKey && e.key.toLowerCase() === "u") {
    e.preventDefault();
    return false;
  }

  /* CTRL + SHIFT + C */
  if (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === "c") {
    e.preventDefault();
    return false;
  }

});
</script>


<script disable-devtool-auto
src="https://cdn.jsdelivr.net/npm/disable-devtool"></script>


</body>
</html>














<!DOCTYPE html>
<html lang="tl">
<head>
  <meta charset="UTF-8">
  <title>Mini Radio – Shuffle + Rainbow EQ</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0f172a;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .player {
      background: #020617;
      padding: 20px 15px;
      border-radius: 16px;
      width: 300px;
      box-shadow: 0 10px 25px rgba(162, 0, 255, 0.4);
      text-align: center;
    }

    h2 { margin-bottom: 10px; }

    #title {
      font-size: 14px;
      color: #93c5fd;
      min-height: 20px;
      margin-bottom: 8px;
    }

    canvas {
      width: 100%;
      height: 60px;
      display: block;
      margin-bottom: 10px;
      background: #020617;
      border-radius: 8px;
    }

    button {
      padding: 10px 58px;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      font-size: 16px;
      margin: 2px;
    }

    audio { display: none; }
  </style>
</head>
<body>

<div class="player">
  <h2>GOLDEN RADIO</h2>

  <div id="title">NO DJ - OFF AIR</div>

  <canvas id="eq" width="280" height="60"></canvas>

  <div>
    <button id="playBtn">▶</button>
    <button id="pauseBtn">⏸</button>
  </div>

  <audio id="audio" crossorigin="anonymous"></audio>
</div>

<script>
  const audio = document.getElementById('audio');
  const titleEl = document.getElementById('title');
  const playBtn = document.getElementById('playBtn');
  const pauseBtn = document.getElementById('pauseBtn');
  const canvas = document.getElementById('eq');
  const ctx = canvas.getContext('2d');

  const STORAGE_KEY = 'radio_current_song';

  // ====== Songs ======
  const songs = [
     { title: "Good Bye, Air Supply", src: "https://dn710007.ca.archive.org/0/items/good-bye-air-supply/Good%20Bye%20-%20Air%20Supply.mp3" },
    { title: "Nothing's Gonna Change My Love For You Air Supply", src: "https://dn721905.ca.archive.org/0/items/nothings-gonna-change-my-love-for-you-air-supply/Nothing%27s%20Gonna%20Change%20My%20Love%20For%20You%20-%20Air%20Supply.mp3" },
    { title: "Bureau of Broken Sounds - Air supply", src: "https://dn710002.ca.archive.org/0/items/jamendo-100243/01.mp3" },
    { title: "Hearts In Motion by Air Supply", src: "https://dn720700.ca.archive.org/0/items/air-supply-hearts-in-motion/02%20Lonely%20Is%20The%20Night.mp3" },
     { title: "Beautiful Girl", src: "https://dn721806.ca.archive.org/0/items/jose-mari-chan-with-his-diamond-hits-1996-320kbps/Jose%20Mari%20Chan%20With%20His%20Diamond%20Hits%20%281996%29%20%28320Kbps%29%2F01.%20Jose%20Mari%20Chan%20-%20Beautiful%20Girl.mp3" },
      { title: "Deep In My Heart", src: "https://dn721806.ca.archive.org/0/items/jose-mari-chan-with-his-diamond-hits-1996-320kbps/Jose%20Mari%20Chan%20With%20His%20Diamond%20Hits%20%281996%29%20%28320Kbps%29%2F02.%20Jose%20Mari%20Chan%20-%20Deep%20In%20My%20Heart.mp3" },
       { title: "Please Be Careful With My Heart", src: "https://dn721806.ca.archive.org/0/items/jose-mari-chan-with-his-diamond-hits-1996-320kbps/Jose%20Mari%20Chan%20With%20His%20Diamond%20Hits%20%281996%29%20%28320Kbps%29%2F03.%20Jose%20Mari%20Chan%20-%20Please%20Be%20Careful%20With%20My%20Heart%20%28Duet%20With%20Regine%20Velasquez%29.mp3" },
        { title: "Tell Me Your Name", src: "https://dn721806.ca.archive.org/0/items/jose-mari-chan-with-his-diamond-hits-1996-320kbps/Jose%20Mari%20Chan%20With%20His%20Diamond%20Hits%20%281996%29%20%28320Kbps%29%2F04.%20Jose%20Mari%20Chan%20-%20Tell%20Me%20Your%20Name.mp3" },
         { title: "Can We Just Stop And Talk Awhile", src: "https://dn721806.ca.archive.org/0/items/jose-mari-chan-with-his-diamond-hits-1996-320kbps/Jose%20Mari%20Chan%20With%20His%20Diamond%20Hits%20%281996%29%20%28320Kbps%29%2F05.%20Jose%20Mari%20Chan%20-%20Can%20We%20Just%20Stop%20And%20Talk%20Awhile.mp3" },
         { title: "My Girl, My Woman, My Friend", src: "https://dn721806.ca.archive.org/0/items/jose-mari-chan-with-his-diamond-hits-1996-320kbps/Jose%20Mari%20Chan%20With%20His%20Diamond%20Hits%20%281996%29%20%28320Kbps%29%2F06.%20Jose%20Mari%20Chan%20-%20My%20Girl%2C%20My%20Woman%2C%20My%20Friend%20%28Duet%20With%20Janet%20Basco%29.mp3" },
          { title: "Refrain", src: "https://dn721806.ca.archive.org/0/items/jose-mari-chan-with-his-diamond-hits-1996-320kbps/Jose%20Mari%20Chan%20With%20His%20Diamond%20Hits%20%281996%29%20%28320Kbps%29%2F07.%20Jose%20Mari%20Chan%20-%20Refrain.mp3" },
           { title: "After Glow", src: "https://dn721806.ca.archive.org/0/items/jose-mari-chan-with-his-diamond-hits-1996-320kbps/Jose%20Mari%20Chan%20With%20His%20Diamond%20Hits%20%281996%29%20%28320Kbps%29%2F08.%20Jose%20Mari%20Chan%20-%20After%20Glow.mp3" },
            { title: "Can't We Start Over Again", src: "https://ia800500.us.archive.org/6/items/jose-mari-chan-with-his-diamond-hits-1996-320kbps/Jose%20Mari%20Chan%20With%20His%20Diamond%20Hits%20%281996%29%20%28320Kbps%29%2F09.%20Jose%20Mari%20Chan%20-%20Can%27t%20We%20Start%20Over%20Again.mp3" }
  ];

  // ====== Shuffle logic ======
  function getNextIndex(current) {
    if (songs.length <= 1) return 0;
    let next;
    do {
      next = Math.floor(Math.random() * songs.length);
    } while (next === current);
    return next;
  }

  // ====== Load last song ======
  let index = 0;
  const saved = localStorage.getItem(STORAGE_KEY);
  if (saved) {
    try {
      const s = JSON.parse(saved);
      if (typeof s.index === 'number') index = s.index;
    } catch(e) {}
  }

  function loadSong(i) {
    audio.src = songs[i].src;
    titleEl.textContent = songs[i].title;
    localStorage.setItem(STORAGE_KEY, JSON.stringify({ index: i }));
  }

  // ====== Rainbow Equalizer ======
  const AudioContext = window.AudioContext || window.webkitAudioContext;
  const audioCtx = new AudioContext();
  const source = audioCtx.createMediaElementSource(audio);
  const analyser = audioCtx.createAnalyser();
  analyser.fftSize = 64;

  source.connect(analyser);
  analyser.connect(audioCtx.destination);

  const bufferLength = analyser.frequencyBinCount;
  const dataArray = new Uint8Array(bufferLength);

  function drawEQ() {
    requestAnimationFrame(drawEQ);
    analyser.getByteFrequencyData(dataArray);
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const barWidth = canvas.width / bufferLength;
    for (let i = 0; i < bufferLength; i++) {
      const value = dataArray[i];
      const barHeight = (value / 255) * canvas.height;
      const x = i * barWidth;
      const y = canvas.height - barHeight;

      const hue = (i / bufferLength) * 360;
      ctx.fillStyle = `hsl(${hue}, 100%, 50%)`;
      ctx.fillRect(x, y, barWidth - 2, barHeight);
    }
  }

  drawEQ();

  // ====== Controls ======
  playBtn.addEventListener('click', async () => {
    if (!audio.src) return;
    if (audioCtx.state === 'suspended') await audioCtx.resume();
    audio.play();
  });

  pauseBtn.addEventListener('click', () => {
    audio.pause();
  });

  // ====== Rotation / Shuffle ======
  audio.addEventListener('ended', () => {
    index = getNextIndex(index);
    loadSong(index);
    audio.play();
  });

  // ====== Initial load ======
  loadSong(index);

</script>
<script disable-devtool-auto
src="https://cdn.jsdelivr.net/npm/disable-devtool"></script>

</body>
</html>







































